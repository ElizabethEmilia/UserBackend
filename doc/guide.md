# 开发文档

### 1. 命名规范
按照Java的命令规范
1. 类名：SomeClass
2. 变量名和方法名： methodName

### 2. 关于前端开发的说明
前端开发使用Vue，webpack打包，尽量避免DOM操作。

### 3. 支付接口和API Key的说明

API Key可在配置文件中由客户自行设置为他的API Key。

支付接口参照文档：
* [支付宝开发文档](https://docs.open.alipay.com/399/)
* [微信开发文档](https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_1)
* [支付宝沙箱测试说明](https://sandbox.alipaydev.com/user/accountDetails.htm?currentBar=1)
* [微信沙箱测试说明](https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=21_2)

### 4. 数据库表中某些字段的补充说明

客户表（会员类别）：
* 0 - 个人用户
* 1 - 企业用户

管理员用户表（权限）
* 0 - 超级管理员
* 1 - 普通管理员
* 2 - 操作员

交易表（支付方式）
* 0 - 在线-支付宝
* 1 - 在线-微信
* 2 - 在线-余额（对于充值不可用）
* 3 - 在线-转账（不可用）
* 4 - 对公-银行
* 5 - 对公-现金
* 6 - 对公-支付宝
* 7 - 其他

交易表（交易状态）
* 0 - 未付款
* 1 - 充值成功
* 2 - 充值失败

交易表（交易类型）
* 0 - 支出
* 1 - 收入

对公充值表（订单类型）
* 4 - 对公-银行
* 5 - 对公-现金
* 6 - 对公-支付宝

对公充值表（订单状态）
* 0 - 待确认
* 1 - 已确认
* 2 - 已取消

对公充值表的补充说明
* 目的：因为使用一个表要表示三种不同类型的信息，所以的某些字段根据订单类型，它的含义会有所变化。
* 该表中的某些字段实际含义如下：

|订单类型|付款方名称|付款方账号|付款银行|
|---|---|---|---|
|4 - 对公-银行|付款方名称|付款方账号|付款银行|
|5 - 对公-现金|付款方名称|-|-|
|6 - 对公-支付宝|支付宝账户名称|支付宝账号|-|

订单表（订单状态）
* 0 - 待支付
* 1 - 已支付
* 2 - 已取消

### 5. 对于数据表和业务的理解
* 为什么会有两个“对公充值”的数据表和“交易”的数据表，他们有何联系？

答：对公充值是由客户提出申请，客户提出的申请会显示在对公充值的数据表中，但是这并不会影响交易表的记录。在审核通过对公的时候，会将该对公充值添加到“充值”数据表中。

* 因为交易里面有“公司”字段，所以每一笔交易必须对应一个公司吗？

答：不需要。交易的主体是用户，如果用户在某个公司下购买产品，那么需要显示公司，其他情形在公司外的交易均不需要公司（例如充值）。